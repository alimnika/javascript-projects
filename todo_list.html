<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" text/css href="todolist.css">
  </head>
  <body>
    <div id="wrapper">
      <h2>Awesome To DO List</h2>
      <input id='input' type="text" name="" value="" placeholder='what do you need to do today?'>
      <button id='btn' class="btns" name="button">Add</button>
      <p id='notification'></p>
    <ul class="all-tasks">
      <!-- <li><input type="checkbox">shopping <i class="fa fa-trash"> </i> </li>
      <li><input type="checkbox">swimming <i class="fa fa-trash"> </i> </li> -->
      <!-- <li><input type="checkbox">shopping <i class="fa fa-trash"> </i> </li>
      <li><input type="checkbox">swimming <i class="fa fa-trash"> </i> </li> -->



    </ul>
    <button id="bringBack" class="btns" name="button">Bring last removed task</button>

    </div>


    <script type="text/javascript">
    var wrapper=document.querySelector('#wrapper');
    var inputToDo=document.querySelector('input');
    var btnAdd=document.querySelector('btn');
    var bringBack=document.querySelector('#bringBack');
    var ulTasks=document.querySelector(".all-tasks");
    var warning=document.querySelector("#notification");

    listOfTasks=[]

    wrapper.addEventListener('click',function(event){
      if (event.target.getAttribute('id')==='btn'){

        // console.log('add button clicked')
// this section is for checking if input is empty or includes white space
        if(!(inputToDo.value.trim())){
          alert('Sorry input space can not be empty')
          inputToDo.value=""
          return
        }
        // this section is for validating if task already exists or not
        console.log('Sorry can not be empty')
        if(listOfTasks.includes(inputToDo.value.toLowerCase())){
          alert('This task  already exist')
          // warning.innerHTML="SORRY THIS TASKS ALREADY EXIST"
        }
        // otherwise create task
        else{
            warning.innerHTML=""
          // console.log('task does not exist')
          listOfTasks.push(inputToDo.value.toLowerCase())
          createElements(inputToDo)
        }

        inputToDo.value=""

      }
      // if (event.target.getAttribute('id')==='bringBack'){
      //   console.log('bringBack button clicked')
      // }
      if(event.target.getAttribute('type')==='checkbox'){
        event.target.parentElement.classList.toggle('toggle')
      }
      if(event.target.getAttribute('class')==='fa fa-trash'){
        // console.log('trash')
        const x=listOfTasks.indexOf(event.target.parentElement.textContent)
        delete listOfTasks[x]
        event.target.parentElement.remove()

        // console.log(x)


      }

    })
function createElements(x){
  var li=document.createElement('li') //li created
  var inputCheck=document.createElement('input')
  inputCheck.type='checkbox'


  li.appendChild(inputCheck)

   li.innerHTML=li.innerHTML+x.value.trim()

  var icon=document.createElement('i')
  icon.setAttribute('class','fa fa-trash');
  li.appendChild(icon)

  ulTasks.appendChild(li)
}

    </script>

  </body>
</html>
